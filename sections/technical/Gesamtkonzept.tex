\section{Grundkonzept}
\label{chap:grundkonzept}
\begin{figure}[h]
	\centering
	\includegraphics[width=0.9\textwidth]{graphics/Grundkonzept.PNG}
	\caption{Grundkonzept}
	\label{fig:grundkonzept}
\end{figure}

\paragraph{Übersicht:}
Als Zentralrecheneinheit wird eine \textit{Micro-Controller-Unit (MCU)} verwendet. Dieser ist dafür verantwortlich, dass die Daten richtig verarbeitet und an das dementsprechende Modul weitergeleitet werden. Die Messdaten werden in digitaler Form vom Modul \textit{Sensoren} an die \textit{MCU} übertragen. Dieser fügt mit dem \textit{Real-Time-Clock (RTC)} einen Timestamp hinzu, wobei anschließend die Daten in der \textit{Datenspeicherung} nichtflüchtig gespeichert werden. Über das \textit{Kommunikationsmodul} können dann die Daten von Nutznießern abgefragt werden.

Das gesamte Grundkonzept ist, wie in der Abbildung \ref{fig:grundkonzept} grafisch dargestellt, modular aufgebaut. Auf alle einzelnen Module wird folgend spezifischer eingegangen und die Konzeptvariationen vorgestellt. Dafür sind zusätzlich noch Vor- \& Nachteile für die Varianten aufgelistet.\\
\newpage

\subsection{Micro Controller Unit (MCU)}
\paragraph{Variante 1:}
\begin{wrapfigure}{r}{0.5\textwidth}
  \vspace{-10pt}
  \begin{center}
    \includegraphics[width=0.38\textwidth]{graphics/arduino_mega.png}
  \end{center}
  \vspace{-10pt}
  \caption{Arduino Mega \cite{Elektronik}}
  \vspace{-10pt}
  \label{fig:arduino_mega}
\end{wrapfigure}
Für die \textit{MCU} wird ein Microcontroller mit bereits vorhandener Peripherie verwendet, welcher ähnlich wie der in Abbildung \ref{fig:arduino_mega} ersichtliche Arduino Mega aufgebaut sein wird.

\paragraph{Variante 2:}
Es wird ein separates Printed Circuit Board (PCB) für die \textit{MCU} designed.\\

\begin{table}[h]
  \centering
  \label{tab:mcu}
  \small
  \caption{Vor- \& Nachteile}
    \begin{tabular}{c|l|l}
          & \textbf{Vorteile} & \textbf{Nachteile} \\
    \toprule
    \multirow{4}[2]{*}{\textbf{Variante 1}} & • In-system Programmierung &  \\
          & \hspace{0.3cm} über USB Typ B möglich &  \\
          & • USB-Schnittstelle für eine &  \\
          &   \hspace{0.3cm} Datenkommunikation mit PC &  \\
          & • Erweiterbar über bereits  &  \\
          &   \hspace{0.3cm} existierende Anschlüsse &  \\
          & • Günstig in der Anschaffung  &  \\
    \hline
    \multirow{4}[1]{*}{\textbf{Variante 2}} &       & • Zusätzliches Gerät (z.B. AVR Dragon) für \\
          &       & \hspace{0.3cm} eine in-system Programmierung notwendig \\
          &       & • benötigt UART-to-USB Chip \\
          &       & • Zeitintensive Entwicklung\\
    \end{tabular}%
  \label{tab:mcu}%
\end{table}%

\newpage
\subsection{Sensoren}
\begin{figure}[h]
\centering
\includegraphics[scale=0.8]{graphics/Sensoren.PNG}
\caption{Sensoren}
\label{fig:sensoren}
\end{figure}
In dem Block \textit{Sensoren} werden alle Messeinheiten untergebracht. Die Idee dieses Blockes besteht darin, dass dieser adaptiv ist und somit leicht erweitert werden kann (Abbildung \ref{fig:sensoren}). Jeder Sensor ist nach dem Prinzip, wie in der Abbildung \ref{fig:sensoraufbau} gezeigt, aufgebaut. Es wird dann von der Seite des \textit{MCU}s aus mit dem Datenlogger kommuniziert.\\

\begin{figure}[h]
\centering
\includegraphics[scale=0.7]{graphics/Sensoraufbau.PNG}
\caption{Sensoraufbau}
\label{fig:sensoraufbau}
\end{figure}

\paragraph{Variante 1:}

Bis auf die Fühler werden die Sensoren selbst entwickelt.\\

\paragraph{Variante 2:}

Die Sensoren werden als intelligente Wettersensorik gekauft. Diese sind, je nach Typ, in verschiedenen Variationen mit unterschiedlichen Messparametern und -technologien ausgestattet. Zudem kompatibel für den Solarbetrieb in allen Klimazonen und Wartungsfrei\footnote{abhängig von den einzelnen Sensoren}.\\

\newpage
\paragraph{Variante 3}

Eine Mischung aus den Varianten 2 \& 3.\\

\begin{table}[h]
  \centering
  \label{tab:mcu}
  \small
  \caption{Vor- \& Nachteile}
    \begin{tabular}{c|l|l}
          & \textbf{Vorteile} & \textbf{Nachteile} \\
    \toprule
    \multirow{4}[2]{*}{\textbf{Variante 1}} & • Günstig & • Sehr arbeitsaufwändig \\
          &  & • Eingeschränkt, da einzelne Messfühler \\
          &  & \hspace{0.3cm} teils nur als komplette Sensorik \\
          &  & \hspace{0.3cm} erhältlich sind \\
    \hline
    \multirow{2}[1]{*}{\textbf{Variante 2}} & • Wartungsfreie Varianten & • Hoher Investitionskosten \\
          & • Kompatibel für Solarbetrieb & • Machbarkeitsanalyse erforderlich \\
    \hline
    \multirow{4}[1]{*}{\textbf{Variante 3}} &  &   \\
          & •  Je nach Kombination & •  Je nach Kombination  \\
          &    &  \\
    \end{tabular}%
  \label{tab:sensoren}
\end{table}
Tabelle \ref{tab:sensoren} zeigt Vor- und Nachteile für die erwähnten Varianten.\\
\subsubsection{Temperatursensor}

\subsubsection{Luftfeuchtigkeitssensor}
Die Bestimmung der relativen Luftfeuchtigkeit spielt eine markante Rolle in der Meteorologie. Dieser Wert sagt aus, wie sehr die Luft mit Wasserdampf gesättigt ist und wird mit anderen Faktoren benutzt um zuverlässige lokale Wetterprognosen zu erstellen. Die Normwerte für die Schweiz liegen ungefähr zwischen 58 und 92 Prozent relativer Luftfeuchtigkeit  \cite{MeteoSchweizFeuchte}.\\
Um diesen Wert zu messen, wird ein kapazitiver Absorptionshygrometer verwendet. Diese sind weit verbreitet, besitzen eine passable Genauigkeit (1-3 \% relative Luftfeuchte), sind Robust, wartungsarm und kostengünstig.

\subsubsection{Luftdrucksensor}
Der Luftdruck spielt bei der Erkennung von Hoch- und Tiefdruckgebieten eine wichtige Rolle in der Meteorologie. Diser wird ebenso verwendet um zuverlässige lokale Wetterprognosen zu erstellen. Die Normwerte für die Schweiz liegen ungefähr zwischen 640 und 1000 hPa \cite{MeteoSchweizDruck}.\\
Um diesen Wert zu messen, wird ein Absolutdrucksensor benötigt, welcher den Absolutwert des aufgenommenen Drucks durch Vergleich mit Vakuum als Referenzpunkt ermittelt. Dieses Verfahren ist die einzige Möglichkeit um den atmosphärischen Luftdruck selbst zu messen \cite{WikiDruck}. 

\subsubsection{Windstärke- und Windrichtungssensor}
Die Windstärke (Windgeschwindigkeit) und Windrichtung haben einen Einfluss auf das Wetter und sind aus diesem Grund ebenso von Bedeutung für die Meteorologie. Ausserdem indizieren hohe Windstärke Stürme, weshalb vor allem die Windstärkemessung für Unwetterwarnungen von hoher Bedeutung ist. Die Normwerte für die Schweiz liegen ungefähr zwischen 0.5 und 11 $\frac{m}{s}$ \cite{MeteoSchweizWindnorm}. Wobei bereits Extremwerte mit bis zu 53 $\frac{m}{s}$ im Flachland und bis zu 75 $\frac{m}{s}$ in den Bergen detektiert wurden \cite{MeteoSchweizExtrem}.\\
Um die Windstärke zu messen, wird ein Schalenanemometer verwendet, da diese nicht nach der Windrichtung ausgerichtet werden müssen und nicht so viel Strom benötigen wie auf Ultraschall basierende Sensoren. Die Windrichtung selbst kann mit einer Windfahne detektiert werden, wobei hier die Umsetzung der Richtung in ein digitales Signal weitere Recherche benötigt.

\subsubsection{Niederschlagsensor}

\subsection{Kommunikationsmodul}
\begin{figure}[h]
\centering
\includegraphics[scale=0.7]{graphics/Kommunikationsmodul.PNG}
\caption{Kommunikationsmodul}
\label{fig:kommunikationsmodul}
\end{figure}
Abbildung \ref{fig:kommunikationsmodul} zeigt die verschiedenen Schnittstellen, über welche Daten mit der Umgebung ausgetauscht werden können.\\
\newpage
\subsection{Datenspeicherung}
\paragraph{Variante 1:}

Die Datenspeicherung erfolgt auf einer $\mu$SD-Karte. Diese kann in ein Breakoutboard eingeschoben werden.\\

\paragraph{Variante 2:}

Es werden zur Datenspeicherung EEPROM's benutzt.\\

\begin{table}[h]
  \centering
  \label{tab:datenspeicherung}
  \small
  \caption{Vor- \& Nachteile}
    \begin{tabular}{c|l|l}
          & \textbf{Vorteile} & \textbf{Nachteile} \\
    \toprule
    \multirow{4}[2]{*}{\textbf{Variante 1}} & • Internes level-shifting & • Es wird ein zusätzliches \\
          & • Grosser Speicherplatz & \hspace{0.3cm}Breakoutboard verwendet \\
          & • Daten können notfalls auch &  \\
          &   \hspace{0.3cm} direkt von der $\mu$SD-Karte &  \\
          &   \hspace{0.3cm} entnommen werden &  \\
    \hline
    \multirow{2}[1]{*}{\textbf{Variante 2}} &       & • Kleiner Speicherplatz \\
          &       & • Benötigt level-shifting \\
    \end{tabular}%
  \label{tab:Datenspeicherung}%
\end{table}%

Tabelle \ref{tab:Datenspeicherung} zeigt Vor- und Nachteile für die erwähnten Varianten.\\

\subsection{RTC}
Es wird eine RTC implementiert, welche aktuelle Zeitstempel für erhobene Datensätze ermittelt.\\

\subsection{Speisung}
\begin{figure}[h]
\centering
\includegraphics[scale=0.6]{graphics/Energieversorgung.PNG}
\caption{Energieversorgung}
\label{fig:Energieversorgung}
\end{figure}

Für die Speisung wird ein Akku verwendet. Gemäss Abbildung \ref{fig:Energieversorgung} soll dieser durch eine Photovoltaikanlage, sowie über ein Anschlusskabel unterstützt bzw. geladen werden.\\
